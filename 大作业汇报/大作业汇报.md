# 少女AI大世界——大作业汇报

## 1. 功能点实现情况

- **用户输入对话内容并发送给大模型**  
  用户可在聊天界面输入消息，点击发送后，消息会实时发送给所选智谱大模型，并返回AI回复。

- **创建新对话**  
  支持随时新建对话，用户可选择不同AI人格模型，系统会自动初始化新会话。

- **记录对话历史**  
  所有对话均自动保存，用户可在侧边栏查看历史会话列表。

- **从对话历史列表中重新加载对话**  
  用户可点击历史会话，重新加载并查看完整的历史消息内容。

- **继续进行重新加载的对话**  
  重新加载历史对话后，用户可继续与AI进行对话，消息会追加到该会话中。

---

## 2. 创新点

- **自主选择人格大模型**  
  用户可在模型选择界面，自主选择不同的AI人格（如“银狼”“今汐”等），每个人格有独特的设定和对话风格。

- **自动生成对话标题**  
  新建对话时，系统可根据模型自动生成会话标题，也支持后续自定义或自动生成标题。

- **用户系统**  
  实现了注册、登录、个人信息管理（头像、昵称、邮箱等），支持多用户独立对话历史。

---

## 3. 技术实现——前端部分

- **技术栈**：Flutter（Dart）
- **主要页面**：
  - 登录/注册页面：支持用户注册、登录，输入昵称、邮箱等信息。
  - 模型选择页面：展示多个人格AI模型，支持点击选择并初始化对话。
  - 聊天页面：支持消息输入、发送、展示AI回复，消息气泡美观，支持头像、模型名展示。
  - 历史对话侧边栏：可查看、切换、删除历史会话。
  - 个人中心页面：支持查看和修改头像、昵称、邮箱等信息。
- **界面风格**：整体采用二次元少女风格，粉色系配色，支持自定义头像和模型图片。
- **数据交互**：通过 `ApiService` 类与后端 API 进行数据交互，包括用户认证、消息发送、历史记录等。

---

## 4. 技术实现——后端部分

- **技术栈**：FastAPI、MongoDB

- **核心模块**：
  - 用户服务：处理用户注册、登录和信息管理
  - 聊天服务：管理聊天会话、消息处理
  - AI服务：封装AI大模型API调用
  - 认证服务：处理JWT token验证

- **技术亮点**：
  - 大模型上下文管理：引入 hidden 属性标记消息，将数据层和展示层分离
  - 数据库选型和设计：采用 MongoDB 文档型数据库，高效存储对话历史；使用嵌入式文档结构存储消息，减少查询次数
  - 安全性设计：JWT 令牌认证，保护用户数据

- **API文档**：  
  详见 [http://1.92.96.135:8000/docs#/](http://1.92.96.135:8000/docs#/)

> 具体实现细节可参考项目源码。

---

## 5. Demo 视频

（此处可插入 Demo 视频链接或说明）